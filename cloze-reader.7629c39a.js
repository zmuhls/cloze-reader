import"./inference.39e3d91a.js";var e=globalThis,t={},n={},r=e.parcelRequired201;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired201=r),r.register;var i,o,l,_,u,a,s,c,f,d,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function g(e,t){for(var n in t)e[n]=t[n];return e}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function x(e,t,n,r,i){var _={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++l:i,__i:-1,__u:0};return null==i&&null!=o.vnode&&o.vnode(_),_}function w(e){return e.children}function k(e,t){this.props=e,this.context=t}function N(e,t){if(null==t)return e.__?N(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?N(e):null}function S(e){(!e.__d&&(e.__d=!0)&&_.push(e)&&!E.__r++||u!=o.debounceRendering)&&((u=o.debounceRendering)||a)(E)}function E(){for(var e,t,n,r,i,l,u=1;_.length;)_.length>u&&_.sort(s),e=_.shift(),u=_.length,e.__d&&(t=void 0,r=(n=e.__v).__e,i=[],l=[],e.__P&&((t=g({},n)).__v=n.__v+1,o.vnode&&o.vnode(t),A(e.__P,t,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,i,null==r?N(n):r,!!(32&n.__u),l),t.__v=n.__v,t.__.__k[t.__i]=t,U(i,t,l),t.__e!=r&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(t)));E.__r=0}function P(e,t,n,r,i,l,_,u,a,s,c){var f,d,h,y,g,k,S=r&&r.__k||v,E=t.length;for(a=function(e,t,n,r,i){var l,_,u,a,s,c=n.length,f=c,d=0;for(e.__k=Array(i),l=0;l<i;l++)null!=(_=t[l])&&"boolean"!=typeof _&&"function"!=typeof _?(a=l+d,(_=e.__k[l]="string"==typeof _||"number"==typeof _||"bigint"==typeof _||_.constructor==String?x(null,_,null,null,null):m(_)?x(w,{children:_},null,null,null):null==_.constructor&&_.__b>0?x(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_).__=e,_.__b=e.__b+1,u=null,-1!=(s=_.__i=function(e,t,n,r){var i,o,l=e.key,_=e.type,u=t[n];if(null===u&&null==e.key||u&&l==u.key&&_==u.type&&0==(2&u.__u))return n;if(r>+(null!=u&&0==(2&u.__u)))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((u=t[i])&&0==(2&u.__u)&&l==u.key&&_==u.type)return i;i--}if(o<t.length){if((u=t[o])&&0==(2&u.__u)&&l==u.key&&_==u.type)return o;o++}}return -1}(_,n,a,f))&&(f--,(u=n[s])&&(u.__u|=2)),null==u||null==u.__v?(-1==s&&(i>c?d--:i<c&&d++),"function"!=typeof _.type&&(_.__u|=4)):s!=a&&(s==a-1?d--:s==a+1?d++:(s>a?d--:d++,_.__u|=4))):e.__k[l]=null;if(f)for(l=0;l<c;l++)null!=(u=n[l])&&0==(2&u.__u)&&(u.__e==r&&(r=N(u)),function e(t,n,r){var i,l;if(o.unmount&&o.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||R(i,null,n)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){o.__e(e,n)}i.base=i.__P=null}if(i=t.__k)for(l=0;l<i.length;l++)i[l]&&e(i[l],n,r||"function"!=typeof t.type);r||b(t.__e),t.__c=t.__=t.__e=void 0}(u,u));return r}(n,t,S,a,E),f=0;f<E;f++)null!=(h=n.__k[f])&&(d=-1==h.__i?p:S[h.__i]||p,h.__i=f,k=A(e,h,d,i,l,_,u,a,s,c),y=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&R(d.ref,null,h),c.push(h.ref,h.__c||y,h)),null==g&&null!=y&&(g=y),4&h.__u||d.__k===h.__k?a=function e(t,n,r){var i,o;if("function"==typeof t.type){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,n=e(i[o],n,r));return n}t.__e!=n&&(n&&t.type&&!r.contains(n)&&(n=N(t)),r.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(null!=n&&8==n.nodeType)return n}(h,a,e):"function"==typeof h.type&&void 0!==k?a=k:y&&(a=y.nextSibling),h.__u&=-7);return n.__e=g,a}function C(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||y.test(t)?n:n+"px"}function H(e,t,n,r,i){var o;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||C(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||C(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(c,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=f,e.addEventListener(t,o?h:d,o)):e.removeEventListener(t,o?h:d,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function T(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=f++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function A(e,t,n,r,l,_,u,a,s,c){var f,d,h,v,y,x,S,E,C,T,A,U,R,F,L,D,M,$=t.type;if(null!=t.constructor)return null;128&n.__u&&(s=!!(32&n.__u),_=[a=t.__e=n.__e]),(f=o.__b)&&f(t);e:if("function"==typeof $)try{if(E=t.props,C="prototype"in $&&$.prototype.render,T=(f=$.contextType)&&r[f.__c],A=f?T?T.props.value:f.__:r,n.__c?S=(d=t.__c=n.__c).__=d.__E:(C?t.__c=d=new $(E,A):(t.__c=d=new k(E,A),d.constructor=$,d.render=I),T&&T.sub(d),d.props=E,d.state||(d.state={}),d.context=A,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),C&&null==d.__s&&(d.__s=d.state),C&&null!=$.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=g({},d.__s)),g(d.__s,$.getDerivedStateFromProps(E,d.__s))),v=d.props,y=d.state,d.__v=t,h)C&&null==$.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),C&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(C&&null==$.getDerivedStateFromProps&&E!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,A),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,A)||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=E,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),U=0;U<d._sb.length;U++)d.__h.push(d._sb[U]);d._sb=[],d.__h.length&&u.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,A),C&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(v,y,x)})}if(d.context=A,d.props=E,d.__P=e,d.__e=!1,R=o.__r,F=0,C){for(d.state=d.__s,d.__d=!1,R&&R(t),f=d.render(d.props,d.state,d.context),L=0;L<d._sb.length;L++)d.__h.push(d._sb[L]);d._sb=[]}else do d.__d=!1,R&&R(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++F<25)d.state=d.__s,null!=d.getChildContext&&(r=g(g({},r),d.getChildContext())),C&&!h&&null!=d.getSnapshotBeforeUpdate&&(x=d.getSnapshotBeforeUpdate(v,y)),D=f,null!=f&&f.type===w&&null==f.key&&(D=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:m(t)?t.map(e):g({},t)}(f.props.children)),a=P(e,m(D)?D:[D],t,n,r,l,_,u,a,s,c),d.base=t.__e,t.__u&=-161,d.__h.length&&u.push(d),S&&(d.__E=d.__=null)}catch(e){if(t.__v=null,s||null!=_)if(e.then){for(t.__u|=s?160:128;a&&8==a.nodeType&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,t.__e=a}else for(M=_.length;M--;)b(_[M]);else t.__e=n.__e,t.__k=n.__k;o.__e(e,t,n)}else null==_&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=function(e,t,n,r,l,_,u,a,s){var c,f,d,h,v,y,g,x=n.props,w=t.props,k=t.type;if("svg"==k?l="http://www.w3.org/2000/svg":"math"==k?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=_){for(c=0;c<_.length;c++)if((v=_[c])&&"setAttribute"in v==!!k&&(k?v.localName==k:3==v.nodeType)){e=v,_[c]=null;break}}if(null==e){if(null==k)return document.createTextNode(w);e=document.createElementNS(l,k,w.is&&w),a&&(o.__m&&o.__m(t,_),a=!1),_=null}if(null==k)x===w||a&&e.data==w||(e.data=w);else{if(_=_&&i.call(e.childNodes),x=n.props||p,!a&&null!=_)for(x={},c=0;c<e.attributes.length;c++)x[(v=e.attributes[c]).name]=v.value;for(c in x)if(v=x[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=v;else if(!(c in w)){if("value"==c&&"defaultValue"in w||"checked"==c&&"defaultChecked"in w)continue;H(e,c,null,v,l)}for(c in w)v=w[c],"children"==c?h=v:"dangerouslySetInnerHTML"==c?f=v:"value"==c?y=v:"checked"==c?g=v:a&&"function"!=typeof v||x[c]===v||H(e,c,v,x[c],l);if(f)a||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),P("template"==t.type?e.content:e,m(h)?h:[h],t,n,r,"foreignObject"==k?"http://www.w3.org/1999/xhtml":l,_,u,_?_[0]:n.__k&&N(n,0),a,s),null!=_)for(c=_.length;c--;)b(_[c]);a||(c="value","progress"==k&&null==y?e.removeAttribute("value"):null==y||y===e[c]&&("progress"!=k||y)&&("option"!=k||y==x[c])||H(e,c,y,x[c],l),c="checked",null!=g&&g!=e[c]&&H(e,c,g,x[c],l))}return e}(n.__e,t,n,r,l,_,u,s,c);return(f=o.diffed)&&f(t),128&t.__u?void 0:a}function U(e,t,n){for(var r=0;r<n.length;r++)R(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function R(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function I(e,t,n){return this.constructor(e,n)}function F(e,t,n){var r,l,_,u;t==document&&(t=document.documentElement),o.__&&o.__(e,t),l=(r="function"==typeof n)?null:n&&n.__k||t.__k,_=[],u=[],A(t,e=(!r&&n||t).__k=function(e,t,n){var r,o,l,_={};for(l in t)"key"==l?r=t[l]:"ref"==l?o=t[l]:_[l]=t[l];if(arguments.length>2&&(_.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)null==_[l]&&(_[l]=e.defaultProps[l]);return x(e,_,r,o,null)}(w,null,[e]),l||p,p,t.namespaceURI,!r&&n?[n]:l?null:t.firstChild?i.call(t.childNodes):null,_,!r&&n?n:l?l.__e:t.firstChild,r,u),U(_,e,u)}i=v.slice,o={__e:function(e,t,n,r){for(var i,o,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),l=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),l=i.__d),l)return i.__E=i}catch(t){e=t}throw e}},l=0,k.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},n),this.props)),e&&g(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),S(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},k.prototype.render=w,_=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(e,t){return e.__v.__b-t.__v.__b},E.__r=0,c=/(PointerCapture)$|Capture$/i,f=0,d=T(!1),h=T(!0);var L=0;function D(e,t,n,r,i,l){t||(t={});var _,u,a=t;if("ref"in a)for(u in a={},t)"ref"==u?_=t[u]:a[u]=t[u];var s={type:e,props:a,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--L,__i:-1,__u:0,__source:i,__self:l};if("function"==typeof e&&(_=e.defaultProps))for(u in _)void 0===a[u]&&(a[u]=_[u]);return o.vnode&&o.vnode(s),s}var M,$,O,G,q=0,W=[],B=o,j=B.__b,K=B.__r,z=B.diffed,X=B.__c,V=B.unmount,J=B.__;function Y(e,t){B.__h&&B.__h($,e,q||t),q=0;var n=$.__H||($.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Q(e){return q=1,function(e,t,n){var r=Y(M++,2);if(r.t=e,!r.__c&&(r.__=[el(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=$,!$.__f)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,n);var l=r.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(l=!0)}}),o&&o.call(this,e,t,n)||l};$.__f=!0;var o=$.shouldComponentUpdate,l=$.componentWillUpdate;$.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}l&&l.call(this,e,t,n)},$.shouldComponentUpdate=i}return r.__N||r.__}(el,e)}function Z(e,t){var n=Y(M++,3);!B.__s&&eo(n.__H,t)&&(n.__=e,n.u=t,$.__H.__h.push(n))}function ee(e,t){var n=Y(M++,7);return eo(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function et(){for(var e;e=W.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(er),e.__H.__h.forEach(ei),e.__H.__h=[]}catch(t){e.__H.__h=[],B.__e(t,e.__v)}}B.__b=function(e){$=null,j&&j(e)},B.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),J&&J(e,t)},B.__r=function(e){K&&K(e),M=0;var t=($=e.__c).__H;t&&(O===$?(t.__h=[],$.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(er),t.__h.forEach(ei),t.__h=[],M=0)),O=$},B.diffed=function(e){z&&z(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==W.push(t)&&G===B.requestAnimationFrame||((G=B.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),en&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);en&&(t=requestAnimationFrame(n))})(et)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),O=$=null},B.__c=function(e,t){t.some(function(e){try{e.__h.forEach(er),e.__h=e.__h.filter(function(e){return!e.__||ei(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],B.__e(n,e.__v)}}),X&&X(e,t)},B.unmount=function(e){V&&V(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{er(e)}catch(e){t=e}}),n.__H=void 0,t&&B.__e(t,n.__v))};var en="function"==typeof requestAnimationFrame;function er(e){var t=$,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),$=t}function ei(e){var t=$;e.__c=e.__(),$=t}function eo(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function el(e,t){return"function"==typeof t?t(e):t}var e_=Symbol.for("preact-signals");function eu(){if(ec>1)ec--;else{for(var e,t=!1;void 0!==es;){var n=es;for(es=void 0,ef++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ey(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(ef=0,ec--,t)throw e}}var ea=void 0,es=void 0,ec=0,ef=0,ed=0;function eh(e){if(void 0!==ea){var t=e.n;if(void 0===t||t.t!==ea)return t={i:0,S:e,p:ea.s,n:void 0,t:ea,e:void 0,x:void 0,r:t},void 0!==ea.s&&(ea.s.n=t),ea.s=t,e.n=t,32&ea.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=ea.s,t.n=void 0,ea.s.n=t,ea.s=t),t}}function ep(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function ev(e){return new ep(e)}function ey(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function em(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function eg(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function eb(e){ep.call(this,void 0),this.x=e,this.s=void 0,this.g=ed-1,this.f=4}function ex(e){var t=e.u;if(e.u=void 0,"function"==typeof t){ec++;var n=ea;ea=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,ew(e),t}finally{ea=n,eu()}}}function ew(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ex(e)}function ek(e){if(ea!==this)throw Error("Out-of-order effect");eg(this),ea=e,this.f&=-2,8&this.f&&ew(this),eu()}function eN(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function eS(e){var t=new eN(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}ep.prototype.brand=e_,ep.prototype.h=function(){return!0},ep.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},ep.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},ep.prototype.subscribe=function(e){var t=this;return eS(function(){var n=t.value,r=ea;ea=void 0;try{e(n)}finally{ea=r}})},ep.prototype.valueOf=function(){return this.value},ep.prototype.toString=function(){return this.value+""},ep.prototype.toJSON=function(){return this.value},ep.prototype.peek=function(){var e=ea;ea=void 0;try{return this.value}finally{ea=e}},Object.defineProperty(ep.prototype,"value",{get:function(){var e=eh(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(ef>100)throw Error("Cycle detected");this.v=e,this.i++,ed++,ec++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{eu()}}}}),(eb.prototype=new ep).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===ed))return!0;if(this.g=ed,this.f|=1,this.i>0&&!ey(this))return this.f&=-2,!0;var e=ea;try{em(this),ea=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return ea=e,eg(this),this.f&=-2,!0},eb.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}ep.prototype.S.call(this,e)},eb.prototype.U=function(e){if(void 0!==this.t&&(ep.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},eb.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(eb.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=eh(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),eN.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},eN.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,ex(this),em(this),ec++;var e=ea;return ea=this,ek.bind(this,e)},eN.prototype.N=function(){2&this.f||(this.f|=2,this.o=es,es=this)},eN.prototype.d=function(){this.f|=8,1&this.f||ew(this)};var eE,eP,eC=[];function eH(e,t){o[e]=t.bind(null,o[e]||function(){})}function eT(e){eP&&eP(),eP=e&&e.S()}function eA(e){var t,n=this,r=e.data,i=(t=r,ee(function(){return ev(t)},[]));i.value=r;var o=ee(function(){for(var e=n.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}var t=new eb(function(){var e=i.value.value;return 0===e?0:!0===e?"":e||""}),r=new eb(function(){var e;return!Array.isArray(t.value)&&(null==(e=t.value)||null!=e.constructor)}),o=eS(function(){if(this.N=eI,r.value){var e=t.value;n.__v&&n.__v.__e&&3===n.__v.__e.nodeType&&(n.__v.__e.data=e)}}),l=n.__$u.d;return n.__$u.d=function(){o(),l.call(this)},[r,t]},[]),l=o[0],_=o[1];return l.value?_.peek():_.value}eS(function(){eE=this.N})(),eA.displayName="_st",Object.defineProperties(ep.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:eA},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),eH("__b",function(e,t){if("string"==typeof t.type){var n,r=t.props;for(var i in r)if("children"!==i){var o=r[i];o instanceof ep&&(n||(t.__np=n={}),n[i]=o,r[i]=o.peek())}}e(t)}),eH("__r",function(e,t){eT();var n,r,i=t.__c;i&&(i.__$f&=-2,void 0===(r=i.__$u)&&(eS(function(){n=this}),n.c=function(){i.__$f|=1,i.setState({})},i.__$u=r=n)),eT(r),e(t)}),eH("__e",function(e,t,n,r){eT(),e(t,n,r)}),eH("diffed",function(e,t){if(eT(),"string"==typeof t.type&&(n=t.__e)){var n,r=t.__np,i=t.props;if(r){var o=n.U;if(o)for(var l in o){var _=o[l];void 0===_||l in r||(_.d(),o[l]=void 0)}else o={},n.U=o;for(var u in r){var a=o[u],s=r[u];void 0===a?(a=function(e,t,n,r){var i=t in e&&void 0===e.ownerSVGElement,o=ev(n);return{o:function(e,t){o.value=e,r=t},d:eS(function(){this.N=eI;var n=o.value.value;r[t]!==n&&(r[t]=n,i?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))})}}(n,u,s,i),o[u]=a):a.o(s,i)}}}e(t)}),eH("unmount",function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var r=n.U;if(r)for(var i in n.U=void 0,r){var o=r[i];o&&o.d()}}}else{var l=t.__c;if(l){var _=l.__$u;_&&(l.__$u=void 0,_.d())}}e(t)}),eH("__h",function(e,t,n,r){(r<3||9===r)&&(t.__$f|=2),e(t,n,r)}),k.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,r=n&&void 0!==n.s;for(var i in t)return!0;if(this.__f||"boolean"==typeof this.u&&!0===this.u){var o=2&this.__$f;if(!(r||o||4&this.__$f)||1&this.__$f)return!0}else if(!(r||4&this.__$f)||3&this.__$f)return!0;for(var l in e)if("__source"!==l&&e[l]!==this.props[l])return!0;for(var _ in this.props)if(!(_ in e))return!0;return!1};var eU=function(e){queueMicrotask(function(){queueMicrotask(e)})};function eR(){!function(e){if(ec>0)return e();ec++;try{return e()}finally{eu()}}(function(){for(var e;e=eC.shift();)eE.call(e)})}function eI(){1===eC.push(this)&&(o.requestAnimationFrame||eU)(eR)}let eF=ev(localStorage.getItem("game_category")||""),eL=ev(localStorage.getItem("game_author")||""),eD=ev(localStorage.getItem("game_century")||""),eM=({isRemoteInterface:e=!1})=>{let[t,n]=Q(eF.value),[r,i]=Q(eL.value),[o,l]=Q(eD.value);Z(()=>{n(eF.value)},[eF.value]),Z(()=>{i(eL.value)},[eL.value]),Z(()=>{l(eD.value)},[eD.value]);let _="w-full p-2 border border-typewriter-ink bg-aged-paper-light rounded focus:outline-none focus:ring-2 focus:ring-typewriter-ribbon focus:border-typewriter-ribbon appearance-none pr-8";return D("div",{className:"mb-4",children:[D("h3",{className:"text-lg font-semibold mb-2 text-typewriter-ink",children:"Search Options"}),D("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[D("div",{children:[D("label",{htmlFor:"category-select",className:"block mb-2 text-typewriter-ink",children:"Category"}),D("div",{className:"relative",children:[D("select",{id:"category-select",className:_,value:t,onInput:e=>{let t=e.target.value;n(t),localStorage.setItem("game_category",t),eF.value=t},"aria-label":"Select category",children:[{value:"",text:"Random Topic"},{value:"bookshelf/466",text:"Philosophy & Ethics"},{value:"bookshelf/478",text:"Science (General)"},{value:"bookshelf/468",text:"Politics"},{value:"bookshelf/446",text:"History (General)"},{value:"bookshelf/458",text:"Literature"},{value:"bookshelf/460",text:"Music"},{value:"bookshelf/484",text:"Teaching & Education"},{value:"bookshelf/459",text:"Mathematics"},{value:"bookshelf/427",text:"Biographies"},{value:"bookshelf/486",text:"Fiction (General)"},{value:"bookshelf/480",text:"Science-Fiction & Fantasy"},{value:"bookshelf/433",text:"Crime/Mystery"},{value:"bookshelf/453",text:"Humour"},{value:"bookshelf/467",text:"Poetry"},{value:"bookshelf/485",text:"Travel & Geography"}].map(e=>D("option",{value:e.value,children:e.text},e.value))}),D("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-typewriter-ink",children:D("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:D("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),D("div",{children:[D("label",{htmlFor:"author-input",className:"block mb-2 text-typewriter-ink",children:"Author"}),D("input",{id:"author-input",type:"text",className:"w-full p-2 border border-typewriter-ink bg-aged-paper-light rounded focus:outline-none focus:ring-2 focus:ring-typewriter-ribbon focus:border-typewriter-ribbon",placeholder:"Enter author name",value:r,onInput:e=>{let t=e.target.value;i(t),localStorage.setItem("game_author",t),eL.value=t},"aria-label":"Author name"})]}),D("div",{children:[D("label",{htmlFor:"century-select",className:"block mb-2 text-typewriter-ink",children:"Century"}),D("div",{className:"relative",children:[D("select",{id:"century-select",className:_,value:o,onInput:e=>{let t=e.target.value;l(t),localStorage.setItem("game_century",t),eD.value=t},"aria-label":"Select century",children:[{value:"",text:"Any Century"},{value:"15",text:"16th Century (1500s)"},{value:"16",text:"17th Century (1600s)"},{value:"17",text:"18th Century (1700s)"},{value:"18",text:"19th Century (1800s)"},{value:"19",text:"20th Century (1900s)"}].map(e=>D("option",{value:e.value,children:e.text},e.value))}),D("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-typewriter-ink",children:D("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:D("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]})]})},e$=({onStart:e})=>{let[t,n]=Q(!0),r=(q=5,ee(function(){return{current:null}},[]));Z(()=>{t&&r.current&&r.current.focus();let e=e=>{if(!t||"Tab"!==e.key)return;let n=document.querySelector("#welcome-modal");if(!n)return;let r=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=r[0],o=r[r.length-1];e.shiftKey?document.activeElement===i&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),i.focus())},n=e=>{t&&"Escape"===e.key&&i()};return document.addEventListener("keydown",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",n)}},[t]);let i=()=>{n(!1),e()};return t?D("div",{id:"welcome-overlay",className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-black bg-opacity-60 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",onClick:e=>{"welcome-overlay"===e.target.id&&i()},children:D("div",{id:"welcome-modal",className:"bg-aged-paper p-6 md:p-8 rounded-lg shadow-lg max-w-2xl w-full",onClick:e=>e.stopPropagation(),children:[D("h1",{id:"welcome-title",className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-typewriter-ink text-center",children:"Cloze Reader"}),D("div",{className:"prose prose-lg mb-6 typewriter-text text-typewriter-ink",children:[D("div",{className:"mb-4",children:[D("strong",{className:"text-lg",children:"How to Play"}),D("ol",{className:"list-inside space-y-1 mt-2",children:[D("li",{children:"Load book excerpts from the Gutenberg Project"}),D("li",{children:"Read context clues to infer missing words"}),D("li",{children:"Get at least half correct to level up"})]})]}),D("div",{children:[D("strong",{className:"text-lg",children:"Game Controls"}),D("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 mt-2",children:[D("li",{className:"flex items-center",children:[D("span",{className:"text-typewriter-ribbon mr-2"}),D("span",{children:[D("strong",{children:"Topic:"})," Choose a category"]})]}),D("li",{className:"flex items-center",children:[D("span",{className:"text-typewriter-ribbon mr-2"}),D("span",{children:[D("strong",{children:"Author:"})," Specify if desired"]})]}),D("li",{className:"flex items-center",children:[D("span",{className:"text-typewriter-ribbon mr-2"}),D("span",{children:[D("strong",{children:"Century:"})," Filter by time period"]})]}),D("li",{className:"flex items-center",children:[D("span",{className:"text-typewriter-ribbon mr-2"}),D("span",{children:[D("strong",{children:"Hint:"})," Get help (limited)"]})]})]})]})]}),D("div",{className:"text-center",children:D("button",{ref:r,id:"start-game-btn",className:"px-6 py-3 bg-typewriter-ribbon text-aged-paper font-bold text-lg rounded shadow-lg hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-typewriter-ink focus:ring-offset-2 focus:ring-offset-aged-paper transition-all duration-200","aria-label":"Start game",onClick:e=>{e.preventDefault(),i()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i())},children:"► START READING ◄"})})]})}):null},eO=ev((0,r("6nwBV").getEnvironmentConfig)().OPENROUTER_API_KEY);var eG=r("59ye1");console.log("APP.TSX: Script loading");let eq=window.location.hostname.includes("github.io"),eW=(e=!0)=>{console.log("APP.TSX: startGameRound called",{forceNewPassage:e});let t=document.getElementById("game-area");t&&(t.innerHTML=`
      <div class="flex flex-col items-center justify-center p-8 text-center" aria-live="polite">
        <p class="text-lg typewriter-text mb-3">Fetching new passage...</p>
        <p class="text-sm opacity-70 mb-4">*click* *clack* *ding*</p>
        <div role="status" aria-label="Loading passage" class="relative h-2 w-48 bg-aged-paper-dark overflow-hidden rounded-full">
          <div class="absolute top-0 left-0 h-full bg-typewriter-ribbon animate-pulse rounded-full" style="width: 30%"></div>
        </div>
      </div>
    `);try{"undefined"!=typeof window&&"function"==typeof window.startRound?window.startRound(e):(0,eG.startRound)(e),console.log("APP.TSX: startRound call completed successfully")}catch(e){console.error("APP.TSX: Error in startRound:",e),t&&(t.innerHTML=`
        <div class="text-center p-6" aria-live="assertive">
          <p class="text-lg typewriter-text text-red-600 mb-2">Oops! We couldn't fetch a passage.</p>
          <p class="typewriter-text mb-4">Please try again later or check your connection.</p>
          <button 
            id="retry-btn" 
            class="px-4 py-2 bg-typewriter-ink text-aged-paper rounded hover:bg-opacity-80 focus:ring-2 focus:ring-typewriter-ribbon focus:outline-none"
            onclick="window.startRound(true)"
          >
            Try Again
          </button>
        </div>
      `)}};F(D(()=>{let[e,t]=Q(!eq),[n,r]=Q(!0);return Z(()=>{eq&&n&&(r(!1),setTimeout(()=>{eW(!0)},100))},[eq,n]),Z(()=>{let e=()=>{console.log("Settings changed:",{apiKey:eO.value?"Key set":"No key",category:eF.value,author:eL.value,century:eD.value})},t=eO.subscribe(e),n=eF.subscribe(e),r=eL.subscribe(e),i=eD.subscribe(e);return()=>{t(),n(),r(),i()}},[]),D(w,{children:e&&D(e$,{onStart:()=>{t(!1),eW(!0)}})})},{}),document.getElementById("app")||document.body);let eB=document.getElementById("settings-footer-container");eB?F(D(({isRemoteInterface:e=window.location.hostname.includes("github.io")})=>{let[t,n]=Q(!1),[r,i]=Q(!1);Z(()=>{i(!0)},[]);let o=()=>{n(!t)};return D("div",{className:`settings-footer ${t?"expanded":""}`,role:"region","aria-label":"Game settings",children:[D("div",{className:"settings-header minimalist-header",onClick:o,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o())},tabIndex:0,role:"button","aria-expanded":t,"aria-controls":"settings-content",children:D("span",{className:"settings-icon",children:[t?"▼":"▲",D("span",{className:"px-1",children:"Search & Settings"})]})}),D("div",{id:"settings-content",className:"settings-content",style:{maxHeight:t?"500px":"0",opacity:t?"1":"0",visibility:t?"visible":"hidden"},children:D("div",{className:"p-4 bg-aged-paper-light rounded shadow-sm",children:D(eM,{isRemoteInterface:e})})})]})},{isRemoteInterface:eq}),eB):console.error("Settings footer container not found!");
//# sourceMappingURL=cloze-reader.7629c39a.js.map
